<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>TPP | Dashboard de Presupuestos & Seguridad</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Open+Sans&display=swap" rel="stylesheet">

<style>
  :root {
    --naranja-tpp: #f7941d;
    --negro: #111;
    --blanco: #fff;
    --gris-oscuro: #222;
    --shadow: rgba(0, 0, 0, 0.35);
    --glow: #ffa726;
  }

  /* RESET & GLOBAL */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body, html {
    margin: 0; padding: 0;
    height: 100%;
    font-family: 'Open Sans', sans-serif;
    background: linear-gradient(135deg, #f7941d 0%, #f95f2a 100%);
    overflow: hidden;
    color: var(--blanco);
  }

  /* BACKGROUND ANIMADO SUAVE */
  body::before {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(45deg, #f7941d, #e65c00, #f7941d);
    background-size: 600% 600%;
    animation: bgAnimation 20s ease infinite;
    z-index: -1;
  }
  @keyframes bgAnimation {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
  }

  /* CONTENEDOR PRINCIPAL DE BIENVENIDA */
  #welcome {
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    text-align: center;
    animation: fadeIn 2s ease forwards;
    position: relative;
  }

  /* LOGO */
  #welcome img.logo {
    width: 280px;
    margin-bottom: 20px;
    animation: pulse 3s ease-in-out infinite;
    filter: drop-shadow(0 0 10px var(--glow));
  }

  /* TITULO GRANDE */
  #welcome h1 {
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    font-size: 3rem;
    text-shadow:
      0 0 10px var(--glow),
      0 0 20px var(--glow),
      0 0 30px var(--glow);
    margin-bottom: 10px;
    letter-spacing: 3px;
    animation: glowText 3s ease-in-out infinite alternate;
  }

  /* SUBTITULO */
  #welcome h2 {
    font-weight: 400;
    font-size: 1.2rem;
    margin-bottom: 40px;
    color: #ffe0b2cc;
  }

  /* BOTÓN NEÓN */
  button#enter-btn {
    padding: 18px 55px;
    font-size: 1.4rem;
    font-weight: 700;
    font-family: 'Montserrat', sans-serif;
    background: transparent;
    border: 3px solid var(--blanco);
    border-radius: 50px;
    color: var(--blanco);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: color 0.4s ease;
    text-transform: uppercase;
    box-shadow:
      0 0 5px var(--blanco),
      0 0 20px var(--blanco),
      0 0 30px var(--naranja-tpp);
  }
  button#enter-btn::before {
    content: '';
    position: absolute;
    left: -50%;
    top: 0;
    width: 200%;
    height: 100%;
    background: linear-gradient(120deg, transparent, var(--blanco), transparent);
    transform: skewX(-25deg);
    transition: left 0.7s ease;
    z-index: -1;
  }
  button#enter-btn:hover {
    color: var(--naranja-tpp);
    box-shadow:
      0 0 15px var(--naranja-tpp),
      0 0 40px var(--naranja-tpp),
      0 0 50px var(--naranja-tpp);
  }
  button#enter-btn:hover::before {
    left: 100%;
  }

  /* CONTENEDOR DE ICONOS */
  .icons-row {
    display: flex;
    gap: 40px;
    justify-content: center;
    margin-top: 50px;
    flex-wrap: wrap;
  }
  .icon-box {
    background: rgba(255 255 255 / 0.15);
    border-radius: 20px;
    padding: 30px;
    max-width: 160px;
    box-shadow: 0 0 25px 5px rgba(255 255 255 / 0.1);
    transition: transform 0.3s ease;
    cursor: default;
  }
  .icon-box:hover {
    transform: translateY(-15px) scale(1.05);
    box-shadow: 0 0 35px 10px var(--blanco);
  }
  .icon-box img {
    width: 80px;
    margin-bottom: 15px;
    filter: drop-shadow(0 0 5px var(--blanco));
  }
  .icon-box p {
    font-weight: 600;
    font-size: 1.1rem;
    color: var(--blanco);
  }

  /* GIF loader profesional */
  #loader {
    width: 80px;
    height: 80px;
    background: url('data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMbGxv7+/gAAAMLCwri4uHd3d6ioqGZmZjY2NnZ2aWlpU9PTyH5BAAAAAAALAAAAAAQABAAAAM5CLrc/jDKSau9OOvNu/9gKI5kaZ5oqq5s68Lh8XACIpNIJgAgwEqxchEyBQKPx6RQaBgNqj0fiAAAOw==') no-repeat center center;
    background-size: contain;
    position: fixed;
    top: 50%;
    left: 50%;
    margin-top: -40px;
    margin-left: -40px;
    z-index: 9999;
    display: none;
  }

  /* CONTENEDOR DEL INFORME POWER BI */
  #report-container {
    display: none;
    width: 100%;
    height: 100vh;
    animation: fadeInReport 2s ease forwards;
  }
  #report-container iframe {
    width: 100%;
    height: 100%;
    border: none;
  }

  /* ANIMACIONES */
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  @keyframes glowText {
    0% {
      text-shadow:
        0 0 5px var(--glow),
        0 0 10px var(--glow),
        0 0 20px var(--glow);
    }
    100% {
      text-shadow:
        0 0 20px var(--glow),
        0 0 35px var(--glow),
        0 0 40px var(--glow);
    }
  }
  @keyframes fadeIn {
    from {opacity: 0; transform: scale(0.9);}
    to {opacity: 1; transform: scale(1);}
  }
  @keyframes fadeOut {
    from {opacity: 1;}
    to {opacity: 0; transform: scale(0.95);}
  }
  @keyframes fadeInReport {
    from {opacity: 0; transform: translateY(30px);}
    to {opacity: 1; transform: translateY(0);}
  }

  /* RESPONSIVE */
  @media (max-width: 900px) {
    .icons-row {
      gap: 25px;
    }
    .icon-box {
      max-width: 120px;
      padding: 25px;
    }
    .icon-box img {
      width: 60px;
      margin-bottom: 12px;
    }
    #welcome h1 {
      font-size: 2.3rem;
    }
    #welcome h2 {
      font-size: 1rem;
    }
    button#enter-btn {
      font-size: 1.1rem;
      padding: 14px 40px;
    }
  }
  @media (max-width: 480px) {
    .icons-row {
      flex-direction: column;
      gap: 20px;
    }
    .icon-box {
      max-width: 100%;
      padding: 20px;
    }
  }
</style>
</head>
<body>

  <!-- Loader -->
  <div id="loader" role="alert" aria-live="assertive" aria-label="Cargando informe"></div>

  <!-- Pantalla de bienvenida -->
  <section id="welcome" role="main">
    <img src="https://operatividad.tpp.com.pe/servicios/assetsBP/images/TPP-Logo-Oficial-transparente.png" alt="TPP Logo" class="logo" />
    <h1>Panel Ejecutivo de <br> Presupuestos y Seguridad</h1>
    <h2>Análisis de gastos, actividades, actos y Condiciones</h2>

    <button id="enter-btn" aria-label="Ingresar al informe" title="Ingresar al informe">Ingresar al Informe</button>

    <div class="icons-row" aria-label="Iconos temáticos de informes">
      <div class="icon-box" title="Presupuestos y Gastos">
        <img src="https://img.icons8.com/ios-filled/100/ffffff/money-bag.png" alt="Icono dinero y presupuestos" />
        <p>Presupuestos & Gastos</p>
      </div>
      <div class="icon-box" title="Incidencias de Seguridad">
        <img src="https://img.icons8.com/ios-filled/100/ffffff/security-checked.png" alt="Icono seguridad" />
        <p>Incidencias de Seguridad</p>
      </div>
      <div class="icon-box" title="Condiciones de Instalaciones">
        <img src="https://img.icons8.com/ios-filled/100/ffffff/factory.png" alt="Icono fábrica y condiciones" />
        <p>Condiciones en Instalaciones</p>
      </div>
      <div class="icon-box" title="Robos y Contenedores">
        <img src="https://img.icons8.com/ios-filled/100/ffffff/security-checked.png" alt="Icono robo" />
        <p>Robos e Intentos de robos</p>
      </div>
    </div>
  </section>

  <!-- Informe Power BI -->
  <section id="report-container" aria-label="Informe Power BI">
    <iframe
      title="PB FIJO"
      src="https://app.powerbi.com/view?r=eyJrIjoiZGI1ZTIyZWQtMWM3NS00NWRhLWFlODktZWNkNWViNDZhZjBkIiwidCI6IjBkNzVmMjFlLWM5OGEtNDg4Ni04NjYwLWYwZDU3YmNjZmY0ZCJ9&embedImagePlaceholder=true&pageName=67c237e0b4b10004828d"
      allowfullscreen
      loading="lazy"
      ></iframe>
  </section>

<script>
  const btn = document.getElementById('enter-btn');
  const welcome = document.getElementById('welcome');
  const report = document.getElementById('report-container');
  const loader = document.getElementById('loader');

  btn.addEventListener('click', () => {
    // Mostrar loader
    loader.style.display = 'block';

    // Animar salida bienvenida
    welcome.style.animation = 'fadeOut 1.5s ease forwards';

    // Esperar fadeOut y mostrar loader 1.5s
    setTimeout(() => {
      welcome.style.display = 'none';
      // Mostrar iframe con fadeIn y loader oculto tras 1.2s
      report.style.display = 'block';
      report.style.animation = 'fadeInReport 2s ease forwards';

      // Ocultar loader tras cargar iframe con delay para suavizar
      setTimeout(() => loader.style.display = 'none', 1500);
    }, 1600);
  });
</script>

</body>
</html>
